(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{283:function(e){e.exports=[{title:"Date",dataIndex:"date",key:"date",width:250,defaultSortOrder:"descend"},{title:"Game",dataIndex:"game",key:"game",width:250},{title:"Revenue",dataIndex:"revenue",key:"revenue",width:250},{title:"Impressions",dataIndex:"impressions",key:"impressions",width:250},{title:"eCPM",dataIndex:"eCPM",key:"eCPM",width:250}]},318:function(e,t,a){e.exports=a(592)},324:function(e,t,a){},591:function(e,t,a){},592:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(8),c=a.n(o),i=(a(323),a(324),a(139)),l=a(192),s=a(595),u=a(71),d=a(18),m=a.n(d),b=a(37),p=a(38),f=a(596);function h(){var e=Object(b.a)(["\n  width: 100%;\n  height: 400px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return h=function(){return e},e}function g(){var e=Object(b.a)(["\n  margin: 5px;\n  border: none;\n  box-shadow: 0 3px 10px 0 rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  .ant-card-body {\n    padding: 18px;\n  }\n"]);return g=function(){return e},e}var v=Object(p.a)(f.a)(g()),x=p.a.div(h()),y=a(91),w=a(40),E=a(64);function O(){var e=Object(b.a)(["\n  min-width: 200px;\n  max-width: 600px;\n  min-height: 75px;\n  background-color: white;\n  border: solid 1px #c0c0c0;\n  text-align: left;\n  padding: 10px;\n  white-space: pre-wrap;\n\n  .chart-tooltip-key {\n    font-weight: normal;\n  }\n\n  .chart-tooltip-value {\n    font-weight: 900;\n  }\n"]);return O=function(){return e},e}var j=Object(p.a)(function(e){var t=e.className,a=e.payload,n=(0,e.getJSX)(a);return n?r.a.createElement("div",{className:"chart-tooltip ".concat(t)},n):r.a.createElement("div",null)})(O());function k(){var e=Object(b.a)(["\n  font-size: 12px;\n"]);return k=function(){return e},e}var N=function(e){var t=e.x,a=e.y,n=e.payload,o=e.className,c=n.value;return c.length>12&&(c=c.substring(0,12)+"..."),r.a.createElement("g",{transform:"translate(".concat(t,",").concat(a,")")},r.a.createElement(S,{className:o,textAnchor:"middle",width:70,transform:"rotate(-45)",dx:"-45"},c))},S=p.a.text(k());function A(){var e=Object(b.a)(["\n  font-size: 12px;\n"]);return A=function(){return e},e}var P=function(e){return Number(e.toFixed(4))},I=Object(p.a)(function(e){var t=e.className,a=e.data,n=void 0===a?[]:a,o=e.yAxisDataKey,c=e.xAxisDatakey,i=void 0===c?"xAxisDatakey":c,l=e.yAxisLabel,s=void 0===l?"":l,u=e.yTickFormatter,d=void 0===u?P:u,m=e.getTooltipJSX,b=e.lineStroke,p={TICK_FILL:{fill:"#010101",fontWeight:"normal"},Y_AXIS_LABEL:{value:s,angle:-90,dx:-25}};return r.a.createElement("div",null,n.length?r.a.createElement(E.d,{width:"100%",height:400,className:t},r.a.createElement(E.c,{data:n,margin:{top:5,right:30,left:20,bottom:50}},r.a.createElement(E.a,{strokeWidth:.5}),r.a.createElement(E.f,{dataKey:i,tick:r.a.createElement(N,null)}),r.a.createElement(E.g,{tick:p.TICK_FILL,tickFormatter:d,label:p.Y_AXIS_LABEL}),r.a.createElement(E.e,{cursor:!1,content:r.a.createElement(j,{getJSX:m})}),r.a.createElement(E.b,{dataKey:o,stroke:b}))):r.a.createElement(x,null,"No Data Available."))})(A()),C=function(e){var t=e.dashboard,a=e.error;return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(x,null,a):r.a.createElement(I,{data:t,yAxisDataKey:"eCPM",xAxisDataKey:"timestamp",lineStroke:"#0366a8",getTooltipJSX:function(e){var t=null;return e&&e.length&&(t=e[0].payload),r.a.createElement("div",null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{type:"flex",justify:"start"},r.a.createElement(w.a,{className:"chart-tooltip-key"},"Date - "),r.a.createElement(w.a,{className:"chart-tooltip-value"},t.timestamp)),r.a.createElement(y.a,{type:"flex",justify:"start"},r.a.createElement(w.a,{className:"chart-tooltip-key"},"Revenue - "),r.a.createElement(w.a,{className:"chart-tooltip-value"},t.revenue)),r.a.createElement(y.a,{type:"flex",justify:"start"},r.a.createElement(w.a,{className:"chart-tooltip-key"},"Impressions - "),r.a.createElement(w.a,{className:"chart-tooltip-value"},t.impressions)),r.a.createElement(y.a,{type:"flex",justify:"start"},r.a.createElement(w.a,{className:"chart-tooltip-key"},"Game - "),r.a.createElement(w.a,{className:"chart-tooltip-value"},t.game)),r.a.createElement(y.a,{type:"flex",justify:"start"},r.a.createElement(w.a,{className:"chart-tooltip-key"},"eCPM - "),r.a.createElement(w.a,{className:"chart-tooltip-value"},Number(t.eCPM.toFixed(4))))):null)},yAxisLabel:"eCPM"}))},D=a(275),M=a(594);function K(){var e=Object(b.a)(["\n  .ant-table-body {\n    overflow: auto;\n    table {\n      thead {\n        tr {\n          th {\n            padding: 8px;\n            text-align: left;\n            font-weight: 900;\n            font-size: 12px;\n            white-space: nowrap;\n          }\n        }\n      }\n\n      tbody {\n        tr {\n          border-bottom: solid 1px #c0c0c0;\n          td {\n            height: 50px;\n            padding: 10px;\n            text-align: left;\n            font-size: 12px;\n          }\n        }\n      }\n    }\n  }\n\n  .ant-table-body::-webkit-scrollbar {\n    height: 10px;\n    width: 10px;\n  }\n\n  .ant-table-body::-webkit-scrollbar-track {\n    background: #c0c0c0;\n  }\n\n  .ant-table-body::-webkit-scrollbar-thumb {\n    background: #423e3e;\n  }\n\n  .ant-pagination.ant-table-pagination {\n    .ant-pagination-disabled {\n      display: none;\n    }\n  }\n"]);return K=function(){return e},e}var L,F=Object(p.a)(function(e){var t=e.columns,a=e.dataSource,n=e.rowKey,o=e.defaultPageSize,c=void 0===o?5:o,i=e.className;return r.a.createElement(M.a,{className:i,columns:t,dataSource:a,rowKey:n,pagination:{defaultPageSize:c,showSizeChanger:!0}})})(K()),T=a(283),z=function(e){var t=e.dashboard,a=function(e){return function(t,a){return(t[e]||0)-(a[e]||0)}},o=Object(n.useMemo)(function(){return Object(D.a)(T,function(e){var t;e[0].render=function(e,t){return t.timestamp},e[4].render=function(e,t){return e.toFixed(4)},e[0].sorter=a("date"),e[1].sorter=(t="game",function(e,a){return e[t]<a[t]?-1:e[t]>a[t]?1:0}),e[2].sorter=a("revenue"),e[3].sorter=a("impressions"),e[4].sorter=a("eCPM")})},[]);return r.a.createElement(F,{columns:o,dataSource:t,rowKey:"index"})},B=a(61),J=a.n(B),R=a(90),X=a(62),_=a(54),q=function(e){if(e.ok)return e.json();throw e.status,new Error(e.statusText)},W=a(284),G=a.n(W),Y=function(e,t,a){return new Promise(function(n,r){t&&!Object(u.isEmpty)(t)&&(e=e+"?"+G.a.stringify(t)),fetch(e).then(a).then(function(e){n({body:e})}),setTimeout(function(){r({message:"Oops...! There seems to some problem with the connection. Please try again..."})},1e4)})},V=a(285),$=function(e){return e.map(function(e,t){var a=e.revenue/e.impressions*1e3;return a=isNaN(a)?0:a,Object(V.a)({},e,{xAxisDatakey:e.timestamp,date:m()(e.timestamp).valueOf(),eCPM:a,index:t})})},H=J.a.mark(ce),Q=J.a.mark(ie),U="[dashboard] get dashboard data request",Z="[dashboard] get dashboard data request success",ee="[dashboard] get dashboard data request error",te=Object(_.b)(U),ae=Object(_.d)(["dashboard.dashboard"],function(e){return e}),ne=Object(_.d)(["dashboard.loading"],function(e){return e}),re=Object(_.d)(["dashboard.error"],function(e){return e}),oe=Object(_.c)({loading:!0,dashboard:[],error:!1},(L={},Object(R.a)(L,U,function(e,t){t.payload;e.loading=!0}),Object(R.a)(L,Z,function(e,t){var a=t.payload;e.loading=!1,e.dashboard=a.dashboard}),Object(R.a)(L,ee,function(e,t){var a=t.payload;e.loading=!1,e.error=a.error}),L));function ce(e){var t,a,n;return J.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(X.b)(Y,"http://www.mocky.io/v2/5cd04a20320000442200fc10",t,q);case 4:return a=r.sent,n=$(a.body),r.next=8,Object(X.c)({type:Z,payload:{dashboard:n}});case 8:r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(1),"Oops...! Something went wrong! Please reload the page...",r.next=15,Object(X.c)({type:ee,payload:{error:r.t0.message?r.t0.message:"Oops...! Something went wrong! Please reload the page..."}});case 15:case"end":return r.stop()}},H,null,[[1,10]])}function ie(){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=X.a,e.next=3,Object(X.d)(U,ce);case 3:return e.t1=e.sent,e.t2=[e.t1],e.next=7,(0,e.t0)(e.t2);case 7:case"end":return e.stop()}},Q)}var le=s.a.RangePicker,se=Object(i.b)(function(e){return{dashboard:ae(e),loading:ne(e),error:re(e)}},{getDashboardRequestAction:te})(function(e){var t=e.getDashboardRequestAction,a=e.dashboard,o=e.loading,c=e.error,i=Object(n.useState)(null),s=Object(l.a)(i,2),d=s[0],b=s[1],p=Object(n.useState)(null),f=Object(l.a)(p,2),h=f[0],g=f[1];Object(n.useEffect)(function(){t()},[]);var x=Object(n.useMemo)(function(){return a.length?[m()(Object(u.minBy)(a,"date").timestamp),m()(Object(u.maxBy)(a,"date").timestamp)]:[]},[a]);h===a||Object(u.isEmpty)(a)||(g(a),b([x[0].valueOf(),x[1].valueOf()]));var y=Object(n.useMemo)(function(){return null!==d?a.filter(function(e,t){return e.date>=d[0]&&e.date<=d[1]}):[]},[a,d]);return r.a.createElement("div",null,r.a.createElement(v,{loading:o},a&&!Object(u.isEmpty)(a)?r.a.createElement(le,{defaultValue:x,disabledDate:function(e){return e&&e>m()().endOf("day")},onChange:function(e){b([e[0].valueOf(),e[1].valueOf()])}}):null,r.a.createElement(C,{dashboard:y,error:c})),r.a.createElement(v,{loading:o},r.a.createElement(z,{dashboard:y,error:c})))}),ue=(a(591),a(289)),de=a(288),me=a.n(de),be=a(290),pe={dashboard:oe},fe=J.a.mark(he);function he(){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.a)([ie()]);case 2:case"end":return e.stop()}},fe)}var ge=Object(be.a)(),ve=[].concat(Object(ue.a)(Object(_.e)()),[me.a,ge]);console.log("rootReducer",pe);var xe=Object(_.a)({reducer:pe,middleware:ve,devTools:!1,preloadedState:{},enhancers:[]});ge.run(he);var ye=xe;var we=function(){return r.a.createElement(i.a,{store:ye},r.a.createElement("div",{className:"App"},r.a.createElement(se,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[318,1,2]]]);
//# sourceMappingURL=main.996d6077.chunk.js.map